{"openapi":"3.0.0","info":{"version":"1.0.0","title":"HREG API"},"components":{"securitySchemes":{"bearerAuth":{"type":"http","scheme":"bearer"}},"schemas":{"User":{"type":"object","properties":{"user_id":{"type":"number","example":63},"user_name":{"type":"string","example":"hwurst"},"long_name":{"type":"string","nullable":true,"example":"Hans Wurst"}},"required":["user_id","user_name","long_name"]},"Device":{"type":"object","properties":{"device_id":{"type":"number","example":10},"device_name":{"type":"string","example":"dead23beef23"},"Seriennum":{"type":"string","nullable":true,"example":"10-2490"},"last_device_ip":{"type":"string","nullable":true,"example":"32.23.52.123"},"last_time_online":{"type":"string","nullable":true,"format":"date-time","example":"2025-09-05T13:18:13.000Z"},"hwver":{"type":"string","nullable":true,"example":"V0020A"},"swver":{"type":"string","nullable":true,"example":"V1.2.8"},"cust_user_id":{"type":"number","nullable":true,"example":"10-2490"},"devtyp_id":{"type":"number","nullable":true,"example":"1"},"mb_nums":{"type":"string","nullable":true,"example":"10-2490"},"action":{"type":"number","nullable":true,"example":"0"},"mb_serno":{"type":"string","nullable":true,"example":"102323"}},"required":["device_id","device_name","Seriennum","last_device_ip","last_time_online","hwver","swver","cust_user_id","devtyp_id","mb_nums","action","mb_serno"]},"ParamDefines":{"type":"object","properties":{"param_id":{"type":"number","example":1},"hreg_name":{"type":"string","nullable":true,"example":"SYS_TAMB_41CA_0"},"label_detail":{"type":"string","nullable":true,"example":"Modus"},"label_chart":{"type":"string","nullable":true,"example":"10:Außentemperatur"},"param_usage":{"type":"number","nullable":true,"example":1},"unit_detail":{"type":"string","nullable":true,"example":"°C"},"attrib_detail":{"type":"string","nullable":true,"example":"V1.2.8"},"access":{"type":"string","nullable":true,"example":"ro"}},"required":["param_id","hreg_name","label_detail","label_chart","param_usage","unit_detail","attrib_detail","access"]},"ParamUp":{"type":"object","properties":{"up_id":{"type":"number","example":4234234234},"param_id":{"type":"number","nullable":true,"example":2345},"device_id":{"type":"number","nullable":true,"example":123},"value_str":{"type":"string","nullable":true,"example":"1"},"up_time":{"type":"string","nullable":true,"format":"date-time","example":1},"up_sss":{"type":"number","nullable":true,"example":1234}},"required":["up_id","param_id","device_id","value_str","up_time","up_sss"]}},"parameters":{}},"paths":{"/api/user":{"get":{"description":"Get User from Engineer","responses":{"200":{"description":"List of Users","content":{"application/json":{"schema":{"type":"object","properties":{"users":{"type":"array","items":{"$ref":"#/components/schemas/User"}}},"required":["users"]}}}}}}},"/api/device":{"get":{"description":"Get devices from Engineer","responses":{"200":{"description":"List of Devices","content":{"application/json":{"schema":{"type":"object","properties":{"devices":{"type":"array","items":{"$ref":"#/components/schemas/Device"}}},"required":["devices"]}}}}}}},"/api/param/defines":{"get":{"description":"List of all Param Defines","responses":{"200":{"description":"List of Param Defines","content":{"application/json":{"schema":{"type":"object","properties":{"params":{"type":"array","items":{"$ref":"#/components/schemas/ParamDefines"}}},"required":["params"]}}}}}}},"/api/param/up/{device_id}/{param_id}":{"get":{"description":"Get Param Up with param_id and device_id. This is the last Param sent by the device","parameters":[{"schema":{"type":"string","example":122},"required":true,"name":"device_id","in":"path"},{"schema":{"type":"string","example":122},"required":true,"name":"param_id","in":"path"}],"responses":{"200":{"description":"Param Up","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ParamUp"}}}}}}},"/api/param":{"post":{"description":"Send Parameter to Device","requestBody":{"content":{"application/json":{"schema":{"type":"object","properties":{"device_id":{"type":"number","example":122},"param_id":{"type":"number","example":122},"value_str":{"type":"string","example":"23"}},"required":["device_id","param_id","value_str"]}}}},"responses":{"201":{"description":"Param down created, no response.","content":{"application/json":{"schema":{"type":"object","properties":{}}}}}}}}}}
